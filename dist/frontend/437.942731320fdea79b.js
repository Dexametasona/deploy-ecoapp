"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[437],{4437:(G,p,i)=>{i.r(p),i.d(p,{GreenpointsModule:()=>C});var a=i(6814),d=i(8589),e=i(6689),c=i(95),m=i(9189),Z=i(3519),g=i.n(Z),x=i(9542),f=i(2213);let _=(()=>{class r{constructor(t,o,n){this.fb=t,this.recyclingService=o,this.validator=n,this.idPuntoVerde="",this.closeEmitter=new e.vpe(!1),this.successEmitter=new e.vpe,this.form=this.fb.group({emailUsuario:["",[c.kI.required,m.Le]],descripcion:["",c.kI.required]})}onSubmit(){if(this.form.invalid)return this.form.markAllAsTouched();const t={...this.form.value,idPuntoVerde:this.idPuntoVerde};this.closeEmitter.emit(!0),this.recyclingService.save(t).subscribe({next:()=>{this.form.reset(),console.log("emitiendo"),this.successEmitter.emit(!0),console.log("emitido con \xe9xito")},error:o=>{console.error("Error:",o),g().fire({title:"Ha ocurrido un error...",text:o.error,icon:"error"})}})}get emailErrorMessage(){const t="emailUsuario";return this.hasError(t,"required")?"El email es requerido":this.hasError(t,"email")?"Ingresa un email v\xe1lido":""}get descriptionErrorMessage(){return this.hasError("descripcion","required")?"La descripci\xf3n es requerida":""}hasError(t,o){return this.validator.hasError(this.form,t,o)}static#e=this.\u0275fac=function(o){return new(o||r)(e.Y36(c.qu),e.Y36(x.R),e.Y36(m.X_))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-recycler-user-form"]],inputs:{idPuntoVerde:"idPuntoVerde"},outputs:{closeEmitter:"closeEmitter",successEmitter:"successEmitter"},decls:33,vars:3,consts:[[1,"space-y-2",3,"formGroup","ngSubmit"],["for","email"],["type","email","id","email","formControlName","emailUsuario",1,"info"],[1,"flex","items-center","gap-5"],[1,"flex","items-center","gap-2"],["type","radio","id","carton-papel"],["for","carton-papel"],["type","radio","id","vidrio"],["for","vidrio"],["type","radio","id","plastico"],["for","plastico"],["type","radio","id","metal"],["for","metal"],["for","description"],["type","text","id","description","formControlName","descripcion",1,"info"],[1,"pt-3","text-center"],["type","submit"]],template:function(o,n){1&o&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(1,"div")(2,"label",1),e._uU(3,"Ingrese el correo del usuario"),e.qZA(),e._UZ(4,"input",2),e.TgZ(5,"strong"),e._uU(6),e.qZA()(),e.TgZ(7,"div",3)(8,"div",4),e._UZ(9,"input",5),e.TgZ(10,"label",6),e._uU(11,"Cart\xf3n y Papel"),e.qZA()(),e.TgZ(12,"div",4),e._UZ(13,"input",7),e.TgZ(14,"label",8),e._uU(15,"Vidrio"),e.qZA()(),e.TgZ(16,"div",4),e._UZ(17,"input",9),e.TgZ(18,"label",10),e._uU(19,"Pl\xe1stico"),e.qZA()(),e.TgZ(20,"div",4),e._UZ(21,"input",11),e.TgZ(22,"label",12),e._uU(23,"Metal"),e.qZA()()(),e.TgZ(24,"div")(25,"label",13),e._uU(26,"Ingrese una descripci\xf3n"),e.qZA(),e._UZ(27,"input",14),e.TgZ(28,"strong"),e._uU(29),e.qZA()(),e.TgZ(30,"div",15)(31,"app-button",16),e._uU(32,"Agregar y dar puntos"),e.qZA()()()),2&o&&(e.Q6J("formGroup",n.form),e.xp6(6),e.Oqu(n.emailErrorMessage),e.xp6(23),e.Oqu(n.descriptionErrorMessage))},dependencies:[f.r,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u],styles:[".info[_ngcontent-%COMP%]{border-bottom:1px black solid;grid-column:span 2;width:100%;outline:none}"]})}return r})();const b=["modal"];let h=(()=>{class r{constructor(){this.idPuntoVerde="",this.prueba=new e.vpe}open(){this.modal.nativeElement.showModal()}close(){this.modal.nativeElement.close()}sendPrueba(){this.prueba.emit(!0)}receivePrueba(t){this.sendPrueba()}static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-recycler-user-modal"]],viewQuery:function(o,n){if(1&o&&e.Gf(b,5),2&o){let s;e.iGM(s=e.CRH())&&(n.modal=s.first)}},inputs:{idPuntoVerde:"idPuntoVerde"},outputs:{prueba:"prueba"},decls:8,vars:1,consts:[[1,"m-auto","bg-white","rounded-md","p-4","backdrop:bg-black","backdrop:bg-opacity-50"],["modal",""],[1,"relative"],[1,"absolute","-top-3","-left-3","w-10","hover:bg-green-200","rounded-full","ease-in-out","duration-500",3,"click"],["src","assets/img/close.svg","alt","close-icon"],[1,"text-center","mb-3","text-xl","font-bold"],[3,"idPuntoVerde","closeEmitter","successEmitter"]],template:function(o,n){1&o&&(e.TgZ(0,"dialog",0,1)(2,"div",2)(3,"button",3),e.NdJ("click",function(){return n.close()}),e._UZ(4,"img",4),e.qZA(),e.TgZ(5,"h4",5),e._uU(6," Agregar usuario reciclador "),e.qZA(),e.TgZ(7,"app-recycler-user-form",6),e.NdJ("closeEmitter",function(){return n.close()})("successEmitter",function(u){return n.receivePrueba(u)}),e.qZA()()()),2&o&&(e.xp6(7),e.Q6J("idPuntoVerde",n.idPuntoVerde))},dependencies:[_]})}return r})();var y=i(4693);function T(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"article",11),e.NdJ("click",function(){const s=e.CHM(t).index,u=e.oxw();return e.KtG(u.handleSelected(s))}),e.TgZ(1,"header",6)(2,"span",7),e._uU(3,"add"),e.qZA()(),e.TgZ(4,"section",12)(5,"h3",9),e._uU(6),e.qZA(),e.TgZ(7,"small",13),e._uU(8),e.qZA()()()}if(2&r){const t=l.$implicit;e.ekj("active",t.selected),e.xp6(6),e.hij(" ",t.nombre," "),e.xp6(2),e.Oqu(t.direccion)}}function U(r,l){if(1&r&&(e.TgZ(0,"tr")(1,"td",30)(2,"span",31),e._uU(3,"person"),e.qZA(),e._uU(4),e.qZA(),e.TgZ(5,"td",32),e._uU(6),e.qZA(),e.TgZ(7,"td",32),e._uU(8),e.qZA(),e.TgZ(9,"td",32),e._uU(10),e.qZA(),e.TgZ(11,"td",33)(12,"span",34),e._uU(13,"add"),e.qZA(),e._uU(14," Otorgar EcoPuntos "),e.qZA()()),2&r){const t=l.$implicit;e.xp6(4),e.hij(" ",t.email," "),e.xp6(2),e.hij(" ",t.materialesRecibidos," "),e.xp6(2),e.hij(" ",t.descripcion," "),e.xp6(2),e.hij(" ",t.dia," ")}}function v(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"section",14)(1,"header")(2,"h2",15),e._uU(3," Seleccionado: "),e.TgZ(4,"span",16),e._uU(5),e.qZA()()(),e.TgZ(6,"article",17)(7,"section",18)(8,"h2",19),e._uU(9,"Informaci\xf3n"),e.qZA(),e.TgZ(10,"div",20)(11,"span",21),e._uU(12,"Nombre"),e.qZA(),e.TgZ(13,"span",22),e._uU(14),e.qZA(),e.TgZ(15,"span",21),e._uU(16,"Tel\xe9fono"),e.qZA(),e.TgZ(17,"span",22),e._uU(18),e.qZA(),e.TgZ(19,"span",21),e._uU(20,"Horario de atenci\xf3n"),e.qZA(),e.TgZ(21,"span",22),e._uU(22),e.qZA(),e.TgZ(23,"span",21),e._uU(24,"D\xedas de atenci\xf3n"),e.qZA(),e.TgZ(25,"span",22),e._uU(26),e.qZA(),e.TgZ(27,"span",21),e._uU(28,"Materiales aceptados"),e.qZA(),e.TgZ(29,"span",22),e._uU(30),e.qZA(),e.TgZ(31,"span",21),e._uU(32,"Direcci\xf3n"),e.qZA(),e.TgZ(33,"span",22),e._uU(34),e.qZA()()(),e.TgZ(35,"section",18)(36,"h2",19),e._uU(37,"Premiar a los usuarios"),e.qZA(),e.TgZ(38,"div",23)(39,"div",24)(40,"table",25)(41,"thead")(42,"tr")(43,"th",26),e._uU(44,"Usuario"),e.qZA(),e.TgZ(45,"th",26),e._uU(46,"Tipo"),e.qZA(),e.TgZ(47,"th",26),e._uU(48,"Descripci\xf3n"),e.qZA(),e.TgZ(49,"th",26),e._uU(50,"Fecha"),e.qZA(),e.TgZ(51,"th",26),e._uU(52,"Acciones"),e.qZA()()(),e.TgZ(53,"tbody"),e.YNc(54,U,15,4,"tr",27),e.qZA()()(),e.TgZ(55,"app-button",28),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.recyclerUserModal.open())}),e._uU(56,"A\xf1adir usuario reciclador"),e.qZA()(),e.TgZ(57,"app-recycler-user-modal",29),e.NdJ("prueba",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.success(n))}),e.qZA()()()()}if(2&r){const t=e.oxw();e.xp6(5),e.Oqu(t.selectedGreenpoint.nombre),e.xp6(9),e.Oqu(t.selectedGreenpoint.nombre),e.xp6(4),e.Oqu(t.selectedGreenpoint.telefono),e.xp6(4),e.Oqu(t.selectedGreenpoint.horarioAtencion),e.xp6(4),e.Oqu(t.selectedGreenpoint.diasAtencion),e.xp6(4),e.Oqu(t.selectedGreenpoint.materialesAceptados),e.xp6(4),e.Oqu(t.selectedGreenpoint.direccion),e.xp6(20),e.Q6J("ngForOf",t.selectedGreenpoint.reciclajes),e.xp6(3),e.Q6J("idPuntoVerde",t.idPuntoVerde)}}const A=[{path:"",component:(()=>{class r{constructor(t){this.greenpointService=t,this.greenpoints=[],this.selectedGreenpoint=null,this.idPuntoVerde="",this.greenpointService.getUserGreenpoints().subscribe({next:o=>{console.log(o),this.greenpoints=o},error:o=>{console.log(o)}})}handleSelected(t){console.log(t),this.greenpoints.forEach((o,n)=>{o.selected=t===n}),this.selectedGreenpoint=this.greenpoints[t],this.idPuntoVerde=this.selectedGreenpoint?.puntoVerdeId}success(t){console.log("inside the success method"),g().fire({title:"Registro exitoso",text:"El usuario ha sido registrado exitosamente",icon:"success"}).then(()=>window.location.reload())}static#e=this.\u0275fac=function(o){return new(o||r)(e.Y36(y.N))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-greenpoints"]],viewQuery:function(o,n){if(1&o&&e.Gf(h,5),2&o){let s;e.iGM(s=e.CRH())&&(n.recyclerUserModal=s.first)}},decls:15,vars:2,consts:[[1,"text-white","font-inter","text-3xl","font-bold"],[1,"text-white","font-inter","text-lg","font-semibold","my-8"],[1,"flex","flex-col","items-center","justify-center","gap-5","w-full"],[1,"points","flex","flex-wrap","gap-5","justify-center"],["class","rounded-xl drop-shadow-lg bg-white w-[300px] hover:scale-[1.01] hover:cursor-pointer",3,"active","click",4,"ngFor","ngForOf"],[1,"rounded-lg","drop-shadow-lg","bg-white","w-[300px]","hover:scale-[1.01]","hover:cursor-pointer"],[1,"h-56","bg-[#d9d9d9]","flex","items-center","justify-center","rounded-tl-xl","rounded-tr-xl"],[1,"material-symbols-outlined","text-9xl","text-white"],[1,"px-3","py-4","max-w-[300px]"],[1,"text-gray-800","text-xl","font-semibold"],["class","flex flex-col gap-5 w-full",4,"ngIf"],[1,"rounded-xl","drop-shadow-lg","bg-white","w-[300px]","hover:scale-[1.01]","hover:cursor-pointer",3,"click"],[1,"px-3","py-4"],[1,"text-xs","text-gray-600"],[1,"flex","flex-col","gap-5","w-full"],[1,"font-semibold","text-gray-700","text-lg"],[1,"text-[#006c34]"],[1,"bg-[#656565]","rounded-xl","pt-5","pb-10","px-4","flex","flex-col","gap-12","w-full"],["role","region",1,"flex","flex-col","gap-2.5"],[1,"text-white","font-semibold","text-lg"],[1,"bg-white","p-4","rounded-xl","grid","grid-cols-3","gap-3"],[1,"font-semibold","text-gray-800","text-sm"],[1,"text-gray-600","text-sm","italic","col-span-2"],[1,"bg-white","p-4","rounded-xl"],[1,"w-full","overflow-x-scroll"],[1,""],[1,"text-left","text-gray-600","px-2","py-1"],[4,"ngFor","ngForOf"],["type","button",1,"mt-6",3,"click"],[3,"idPuntoVerde","prueba"],[1,"flex","items-center","gap-1","py-2","px-5","text-gray-700","whitespace-nowrap"],[1,"material-symbols-outlined"],[1,"py-2","px-5","text-gray-700","whitespace-nowrap"],[1,"flex","items-center","gap-1","font-semibold","py-2","px-5","text-[#ffc107]","whitespace-nowrap"],[1,"material-symbols-outlined","bg-[#FFC107]","text-white","rounded-full"]],template:function(o,n){1&o&&(e.TgZ(0,"h2",0),e._uU(1,"Mis GreenPoint"),e.qZA(),e.TgZ(2,"span",1),e._uU(3,"Puntos creados"),e.qZA(),e.TgZ(4,"main",2)(5,"section",3),e.YNc(6,T,9,4,"article",4),e.TgZ(7,"article",5)(8,"header",6)(9,"span",7),e._uU(10,"add"),e.qZA()(),e.TgZ(11,"section",8)(12,"h3",9),e._uU(13,"Agregar punto verde"),e.qZA()()()(),e.YNc(14,v,58,9,"section",10),e.qZA()),2&o&&(e.xp6(6),e.Q6J("ngForOf",n.greenpoints),e.xp6(8),e.Q6J("ngIf",n.selectedGreenpoint))},dependencies:[a.sg,a.O5,f.r,h],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;padding-block:1rem;height:100%;overflow-x:scroll;background:url(/assets/img/stripe_dashboard.svg);background-repeat:no-repeat;background-size:contain cover;background-position:top right;padding-inline:1rem;max-width:100%}@media screen and (min-width: 768px){[_nghost-%COMP%]{background-size:contain}}.active[_ngcontent-%COMP%]{border:3px solid #0FA24A;scale:1.01}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(odd){background-color:#f7f7f7}"]})}return r})()}];let q=(()=>{class r{static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275mod=e.oAB({type:r});static#o=this.\u0275inj=e.cJS({imports:[d.Bz.forChild(A),d.Bz]})}return r})();var w=i(8524);let C=(()=>{class r{static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275mod=e.oAB({type:r});static#o=this.\u0275inj=e.cJS({imports:[a.ez,q,w.m,c.UX]})}return r})()}}]);